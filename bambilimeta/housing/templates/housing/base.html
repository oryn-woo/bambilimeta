<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  {% load static %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}MyHousing Marketplace{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'housing/css/cards.css' %}">
    <link rel="stylesheet" href="{% static 'housing/css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'housing/css/detail.css' %}">
    <link rel="stylesheet" href="{% static 'housing/css/hero.css' %}">
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container">
    <a class="navbar-brand" href="#"><i class="bi bi-house-heart-fill text-primary me-2 fs-3"></i>Bambili-Housing</a>
    <button class="navbar-toggler text-white" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto text-center">
        <li class="nav-item"><a class="nav-link" href="{% url 'housing:home' %}"><i class="bi bi-amd me-2 fs-5"></i>Home</a></li>

        
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="housesDropdown" role="button"
             data-bs-toggle="dropdown" aria-expanded="false">
             <i class="bi bi-stack-overflow me-2 fs-4"></i>Houses
          </a>
          <ul class="dropdown-menu text-start" aria-labelledby="housesDropdown" data-bs-theme='dark'>
            <li><a class="dropdown-item" href=""><i class="bi bi-tropical-storm me-2 fs-4"></i>Apartments</a></li>
            <li><a class="dropdown-item" href=""><i class="bi bi-tropical-storm me-2 fs-4"></i>Studios</a></li>
            <li><a class="dropdown-item" href=""><i class="bi bi-tropical-storm me-2 fs-4"></i>Room-Toilet</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="" ><i class="bi bi-tropical-storm me-2 fs-4"></i>Single-Room</a></li>
          </ul>
        </li>
        
        <li class="nav-item"><a class="nav-link" href="{% url 'market:home' %}"><i class="bi bi-shop-window me-2 fs-4"></i>Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-send-plus-fill me-2 fs-4"></i>About</a></li>
        {% if not request.user.is_authenticated %}
            <li class="nav-item"><a class="nav-link btn btn-light text-dark ms-2" href="{% url 'auth:login' %}"><i class="bi bi-person-add me-2 fs-4"></i>Login</a></li>
            <li class="nav-item"><a class="nav-link btn btn-light text-dark ms-2" href="{% url 'auth:register' %}"><i class="bi bi-person-hearts me-2 fs-4"></i>Register</a></li>
        {% else %}
            <li class="nav-item">
              <a class="nav-link btn btn-light text-dark ms-2" >
                <form action="{% url 'auth:logout' %}"><i class="bi bi-person-dash me-2 fs-4"></i>Logout</form>
              </a>
            </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- Offcanvas -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNav">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title text-center fw-bold "><i class="bi bi-compass-fill me-2 fs-3"></i>Navigation</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled">
      <li class="mb-2"><a href="{% url 'housing:favorites' %}" class="nav-link"><i class="bi bi-bag-heart fs-4 me-2"></i>Favorites</a></li>
      <li class="dropdown mb-2">
        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"><i class="bi bi-stack-overflow me-2 fs-4"></i>Houses</a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#"><i class="bi bi-tropical-storm me-2 fs-4"></i>For Sale</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-tropical-storm me-2 fs-4"></i>For Rent</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-tropical-storm me-2 fs-4"></i>Luxury</a></li>
        </ul>
      </li>
      <li class="dropdown mb-2">
        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"><i class="bi bi-shop-window me-2 fs-4"></i>Shop</a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#"><i class="bi bi-earbuds me-2 fs-4"></i>Electronics</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-shield-lock-fill me-2 fs-4"></i>Furniture</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-shield-lock-fill me-2 fs-4"></i>Appliances</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-shield-lock-fill me-2 fs-4"></i>Skills</a></li>
        </ul>
      </li>
      <li><a href="#" class="nav-link"><i class="bi bi-person-rolodex me-2 fs-4"></i>Contact</a></li>
    </ul>
  </div>
</div>

<!-- Main Content -->
<div class="container py-5">
  {% block body %}
  <!-- Child templates inject content here -->
  {% endblock %}
</div>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <!-- About -->
      <div class="col-md-4">
        <h5>About Us</h5>
        <p>We connect landlords, buyers, and sellers with premium housing and e-commerce opportunities. Trust, quality, and convenience at your fingertips.</p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4">
        <h5>Quick Links</h5>
        <ul>
          <li><a href="#"><i class="bi bi-house-door-fill"></i> Houses</a></li>
          <li><a href="#"><i class="bi bi-cart-fill"></i> Shop</a></li>
          <li><a href="#"><i class="bi bi-telephone-fill"></i> Contact</a></li>
          <li><a href="#"><i class="bi bi-info-circle-fill"></i> About</a></li>
        </ul>
      </div>

      <!-- Social -->
      <div class="col-md-4 text-md-end text-center">
        <h5>Follow Us</h5>
        <a href="#" class="social-btn"><i class="bi bi-facebook"></i></a>
        <a href="#" class="social-btn"><i class="bi bi-twitter"></i></a>
        <a href="#" class="social-btn"><i class="bi bi-instagram"></i></a>
      </div>
    </div>

    <div class="footer-divider"></div>
    <p class="text-center mb-0">Â© 2025 MyHousing Marketplace. All rights reserved.</p>
  </div>
</footer>

<!-- Floating CTA -->
<a href="{% url 'housing:upload-house'%}" class="floating-cta btn"><i class="bi bi-globe-asia-australia me-2 text-warning"></i> Post a House</a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script defer src="{% static 'housing/js/favorite.js' %}"></script>
<script defer src="{% static 'housing/js/detail.js' %}"></script>
<script>
  // Activate all Bootstrap tooltips on the page
document.addEventListener('DOMContentLoaded', function () {
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.forEach(function (el) {
    new bootstrap.Tooltip(el);
  });

  // Live preview for each file input in the image formset
  document.querySelectorAll('.form-control-file').forEach(function (input, idx) {
    input.addEventListener('change', function (evt) {
      var file = evt.target.files[0];
      if (!file) return;
      var reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('preview-' + (idx + 1)).src = e.target.result;
      };
      reader.readAsDataURL(file);
    });
  });
});

</script>



{% block extra_scripts %}
{% endblock%}
</body>
</html>
